# μ μ—°ν• ν•™μµ λ‚΄μ© κµ¬μ΅° μ μ•

## π― μ‚¬μ©μ μ”μ²­

### λ¬Έμ μ :
1. β ν•µμ‹¬ν¬μΈνΈ κ°μλ¥Ό κ³ μ • (μ: 5~12κ°)ν•λ©΄ μ΄λ―Έμ§€μ— λ”°λΌ λ¶€μ μ ν•  μ μμ
2. β "ν•µμ‹¬ν¬μΈνΈ"λΌλ” μ΄λ¦„μ΄ λ¨λ“  κµμ¬/μ΄λ―Έμ§€μ— λ§μ§€ μ•μ„ μ μμ

### μ”κµ¬μ‚¬ν•­:
- β… μ΄λ―Έμ§€μ— λ”°λΌ μμ λ΅­κ² ν•™μµ λ‚΄μ© κµ¬μ΅° μ„¤μ •
- β… κµμ¬ λ‚΄μ©μ— λ§λ” λ©μ°¨/κµ¬μ΅° μƒμ„±
- β… "ν•µμ‹¬ν¬μΈνΈ" μ™Έμ—λ„ λ‹¤μ–‘ν• μ΄λ¦„ μ‚¬μ© κ°€λ¥

## β… μ μ• λ°©μ‹: κµμ¬ κΈ°λ° λ™μ  κµ¬μ΅° μƒμ„±

### ν•µμ‹¬ μ•„μ΄λ””μ–΄:
1. **κµμ¬ λ©”νƒ€λ°μ΄ν„° κΈ°λ° κµ¬μ΅°**: μ΄λ―Έμ§€μ—μ„ μ¶”μ¶ν• κµμ¬ κµ¬μ΅°(λ‹¨μ›, μ†λ‹¨μ› λ“±)λ¥Ό ν™μ©
2. **AIκ°€ λ‚΄μ©μ— λ§κ² κµ¬μ΅° κ²°μ •**: κµμ¬ λ‚΄μ©μ„ λ³΄κ³  μ μ ν• κµ¬μ΅° μƒμ„±
3. **μ μ—°ν• λ„¤μ΄λ°**: "ν•µμ‹¬ν¬μΈνΈ", "λ©μ°¨", "λ‹¨μ›", "μ†λ‹¨μ›" λ“± μμ λ΅­κ² μ‚¬μ©

## π¨ κµ¬μ΅° μƒμ„± λ°©λ²•

### λ°©λ²• 1: κµμ¬ λ©”νƒ€λ°μ΄ν„° κΈ°λ° (μ¶”μ²) β­

#### μμ‹:
```json
{
  "structure": {
    "type": "textbook_chapter", // λλ” "key_points", "units", "sections"
    "items": [
      {
        "title": "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§",
        "content": "...",
        "order": 1
      },
      {
        "title": "02.2 λ‚λ¨Έμ§€μ •λ¦¬",
        "content": "...",
        "order": 2
      },
      {
        "title": "02.3 μΈμμ •λ¦¬",
        "content": "...",
        "order": 3
      }
    ]
  }
}
```

#### ν”„λ΅¬ν”„νΈ κ°μ„ :
```
κµμ¬ μ΄λ―Έμ§€λ¥Ό λ¶„μ„ν•μ—¬, ν•™μµν•  λ‚΄μ©μ„ κµμ¬ κµ¬μ΅°μ— λ§κ² λ‚λ„μ–΄μ¤:

1. κµμ¬ λ©”νƒ€λ°μ΄ν„° ν™•μΈ:
   - λ€λ‹¨μ›, μ¤‘λ‹¨μ›, μ†λ‹¨μ› κµ¬μ΅° ν™•μΈ
   - νμ΄μ§€ λ²νΈ, λ‹¨μ›λ… ν™•μΈ
   
2. κµ¬μ΅° κ²°μ •:
   - κµμ¬μ— "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§", "02.2 λ‚λ¨Έμ§€μ •λ¦¬" κ°™μ€ μ†λ‹¨μ›μ΄ μμΌλ©΄:
     β†’ μ†λ‹¨μ›λ³„λ΅ λ‚λ„κΈ°
   - κµμ¬μ— λ‹¨μ›λ³„ "ν•µμ‹¬ κ°λ…"μ΄ μμΌλ©΄:
     β†’ ν•µμ‹¬ κ°λ…λ³„λ΅ λ‚λ„κΈ°
   - κµμ¬μ— "λ©μ°¨"κ°€ μμΌλ©΄:
     β†’ λ©μ°¨ κµ¬μ΅° λ”°λ¥΄κΈ°
   
3. κ°μ μ ν• μ—†μ:
   - κµμ¬ κµ¬μ΅°μ— λ§κ² μμ—°μ¤λ½κ² λ‚λ„κΈ°
   - 1κ°λ§ μμ–΄λ„ λκ³ , 20κ°μ—¬λ„ λ¨
   - μ¤‘μ”ν• κ²ƒμ€ κµμ¬ λ‚΄μ©μ„ μ •ν™•ν λ°μν•λ” κ²ƒ
```

### λ°©λ²• 2: AI μμ¨ κµ¬μ΅° κ²°μ •

#### ν”„λ΅¬ν”„νΈ:
```
μ΄λ―Έμ§€λ¥Ό λ¶„μ„ν•μ—¬, κ°€μ¥ ν¨κ³Όμ μΈ ν•™μµ κµ¬μ΅°λ¥Ό κ²°μ •ν•΄μ¤:

μµμ…:
1. κµμ¬ λ©μ°¨ κµ¬μ΅° λ”°λ¥΄κΈ° (λ‹¨μ›/μ†λ‹¨μ›)
2. ν•µμ‹¬ κ°λ…λ³„λ΅ λ‚λ„κΈ°
3. λ¬Έμ  μ ν•λ³„λ΅ λ‚λ„κΈ°
4. ν•™μµ μμ„λ³„λ΅ λ‚λ„κΈ°

κ°€μ¥ μ ν•©ν• κµ¬μ΅°λ¥Ό μ„ νƒν•κ³ , κ·Έμ— λ§λ” μ΄λ¦„κ³Ό ν•­λ©λ“¤μ„ μƒμ„±ν•΄μ¤.
κ°μλ” λ‚΄μ©μ— λ§κ² μμ λ΅­κ² μ„¤μ •ν•΄μ¤.
```

## π“ λ°μ΄ν„° κµ¬μ΅° κ°μ„ 

### ν„μ¬ κµ¬μ΅° (κ³ μ •):
```typescript
interface ReviewProgram {
  keyPoints: Array<{
    title: string;
    content: string;
  }>;
  // ...
}
```

### μ μ• κµ¬μ΅° (μ μ—°):
```typescript
interface ReviewProgram {
  contentStructure: {
    type: 'textbook_chapter' | 'key_points' | 'units' | 'sections' | 'custom';
    label?: string; // "λ‹¨μ›", "ν•µμ‹¬ν¬μΈνΈ", "λ©μ°¨" λ“±
    items: Array<{
      title: string; // "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§" λλ” "ν•­λ“±μ‹μ λ»"
      content: string;
      order: number;
      metadata?: {
        page?: number;
        unit?: string;
        section?: string;
      };
    }>;
  };
  // ... (κΈ°μ΅΄ ν•„λ“ μ μ§€)
}
```

### ν•μ„ νΈν™μ„± μ μ§€:
```typescript
// κΈ°μ΅΄ μ½”λ“ νΈν™μ„ μ„ν• getter
get keyPoints() {
  return this.contentStructure.items;
}
```

## π’΅ κµ¬ν„ λ°©λ²•

### 1. ν”„λ΅¬ν”„νΈ κ°μ„  (lib/prompts.ts)

#### Before:
```
3. (λ§¤μ° μ¤‘μ”) **ν•µμ‹¬ κ°λ…/ν¬μΈνΈλ¥Ό 5~12κ°λ΅ μ •λ¦¬ν•΄!**
```

#### After:
```
3. (λ§¤μ° μ¤‘μ”) **ν•™μµ λ‚΄μ© κµ¬μ΅° μƒμ„±**

λ‹¤μμ„ μν–‰ν•΄μ¤:

a) κµμ¬ λ©”νƒ€λ°μ΄ν„° ν™•μΈ:
   - μ΄λ―Έμ§€μ—μ„ λ€λ‹¨μ›, μ¤‘λ‹¨μ›, μ†λ‹¨μ› κµ¬μ΅° ν™•μΈ
   - νμ΄μ§€ λ²νΈ, λ‹¨μ›λ… ν™•μΈ
   
b) κµ¬μ΅° κ²°μ •:
   - κµμ¬μ— μ†λ‹¨μ›μ΄ μμΌλ©΄ (μ: "02.1", "02.2") β†’ μ†λ‹¨μ›λ³„λ΅ λ‚λ„κΈ°
   - κµμ¬μ— "ν•µμ‹¬ κ°λ…" μ„Ήμ…μ΄ μμΌλ©΄ β†’ ν•µμ‹¬ κ°λ…λ³„λ΅ λ‚λ„κΈ°
   - κµμ¬μ— λ©μ°¨κ°€ μμΌλ©΄ β†’ λ©μ°¨ κµ¬μ΅° λ”°λ¥΄κΈ°
   - λ…ν™•ν• κµ¬μ΅°κ°€ μ—†μΌλ©΄ β†’ λ‚΄μ©μ„ μμ—°μ¤λ½κ² λ‚λ„κΈ° (2~3κ° μ„Ήμ…)
   
c) κ°μ μ ν• μ—†μ:
   - κµμ¬ λ‚΄μ©μ— λ§κ² μμ λ΅­κ² μ„¤μ •
   - 1κ°λ§ μμ–΄λ„ λκ³ , 20κ°μ—¬λ„ λ¨
   - μ¤‘μ”ν• κ²ƒμ€ κµμ¬ λ‚΄μ©μ„ μ •ν™•ν λ°μν•λ” κ²ƒ

d) λ„¤μ΄λ°:
   - μ†λ‹¨μ› κµ¬μ΅°λ©΄: "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§", "02.2 λ‚λ¨Έμ§€μ •λ¦¬" (κµμ¬ κ·Έλ€λ΅)
   - ν•µμ‹¬ κ°λ…μ΄λ©΄: "ν•­λ“±μ‹μ λ»", "λ‚λ¨Έμ§€μ •λ¦¬" λ“±
   - λ©μ°¨ κµ¬μ΅°λ©΄: λ©μ°¨ ν•­λ© κ·Έλ€λ΅ μ‚¬μ©
   
JSON μ¶λ ¥ ν•μ‹:
{
  "contentStructure": {
    "type": "textbook_chapter" | "key_points" | "custom",
    "label": "λ‹¨μ›" | "ν•µμ‹¬ν¬μΈνΈ" | "λ©μ°¨" (μ„ νƒμ ),
    "items": [
      {
        "title": "μ λ©",
        "content": "λ‚΄μ©",
        "order": 1
      }
    ]
  }
}
```

### 2. νƒ€μ… μ •μ κ°μ„  (lib/types.ts)

```typescript
// μƒλ΅μ΄ κµ¬μ΅°
interface ContentStructure {
  type: 'textbook_chapter' | 'key_points' | 'units' | 'sections' | 'custom';
  label?: string; // "λ‹¨μ›", "ν•µμ‹¬ν¬μΈνΈ", "λ©μ°¨" λ“±
  items: Array<{
    title: string;
    content: string;
    order: number;
    metadata?: {
      page?: number;
      unit?: string;
      section?: string;
    };
  }>;
}

interface ReviewProgram {
  // κΈ°μ΅΄ ν•„λ“ μ μ§€ (ν•μ„ νΈν™)
  keyPoints?: Array<{
    title: string;
    content: string;
  }>;
  
  // μƒλ΅μ΄ κµ¬μ΅° (μ°μ„  μ‚¬μ©)
  contentStructure?: ContentStructure;
  
  // ...
}
```

### 3. ν”„λ΅ νΈμ—”λ“/λ°±μ—”λ“ μ‚¬μ© μ‹

#### ν•μ„ νΈν™μ„±:
```typescript
// κΈ°μ΅΄ μ½”λ“ νΈν™
const items = rp.contentStructure?.items || rp.keyPoints || [];

// ν‘μ‹ λ μ΄λΈ”
const label = rp.contentStructure?.label || 'ν•µμ‹¬ν¬μΈνΈ';
```

#### ν‘μ‹:
```tsx
// "λ‹¨μ› 1", "ν•µμ‹¬ν¬μΈνΈ 1", "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§" λ“±
{items.map((item, idx) => (
  <div key={idx}>
    {label ? `${label} ${item.order}` : item.title}
  </div>
))}
```

## π― μμ‹

### μμ‹ 1: μν•™ κµμ¬ (μ†λ‹¨μ› κµ¬μ΅°)
```json
{
  "contentStructure": {
    "type": "textbook_chapter",
    "items": [
      {
        "title": "02.1 ν•­λ“±μ‹μ λ»κ³Ό μ„±μ§",
        "content": "...",
        "order": 1,
        "metadata": { "page": 12 }
      },
      {
        "title": "02.2 λ‚λ¨Έμ§€μ •λ¦¬",
        "content": "...",
        "order": 2,
        "metadata": { "page": 15 }
      }
    ]
  }
}
```

### μμ‹ 2: μμ–΄ κµμ¬ (ν•µμ‹¬ κ°λ…)
```json
{
  "contentStructure": {
    "type": "key_points",
    "label": "ν•µμ‹¬ κ°λ…",
    "items": [
      {
        "title": "κ°κ°λ™μ‚¬",
        "content": "...",
        "order": 1
      },
      {
        "title": "μμ—¬λ™μ‚¬",
        "content": "...",
        "order": 2
      }
    ]
  }
}
```

### μμ‹ 3: λ‹¨μΌ κ°λ… (1κ°λ§)
```json
{
  "contentStructure": {
    "type": "custom",
    "label": "ν•™μµ λ‚΄μ©",
    "items": [
      {
        "title": "λ‹¤ν•­μ‹μ λ‚λ—μ…",
        "content": "...",
        "order": 1
      }
    ]
  }
}
```

## β… μ¥μ 

1. β… **μ μ—°μ„±**: μ΄λ―Έμ§€/κµμ¬μ— λ”°λΌ μμ λ΅­κ² κµ¬μ΅° μ„¤μ •
2. β… **μ •ν™•μ„±**: κµμ¬ κµ¬μ΅°λ¥Ό μ •ν™•ν λ°μ
3. β… **μμ—°μ¤λ¬μ›€**: κµμ¬ λ©”νƒ€λ°μ΄ν„°λ¥Ό ν™μ©ν• μμ—°μ¤λ¬μ΄ κµ¬μ΅°
4. β… **ν™•μ¥μ„±**: λ‹¤μ–‘ν• κµμ¬ ν•μ‹ μ§€μ›
5. β… **ν•μ„ νΈν™μ„±**: κΈ°μ΅΄ μ½”λ“μ™€ νΈν™ κ°€λ¥

## π”„ Before vs After

### Before:
- κ³ μ •λ κ°μ (5~12κ°)
- "ν•µμ‹¬ν¬μΈνΈ"λΌλ” κ³ μ •λ μ΄λ¦„
- κµμ¬ κµ¬μ΅° λ¬΄μ‹

### After:
- κ°μ μ ν• μ—†μ (1κ°~20κ°+)
- κµμ¬μ— λ§λ” μ΄λ¦„ μ‚¬μ© ("λ‹¨μ›", "ν•µμ‹¬ν¬μΈνΈ", "λ©μ°¨" λ“±)
- κµμ¬ λ©”νƒ€λ°μ΄ν„° κΈ°λ° κµ¬μ΅°

